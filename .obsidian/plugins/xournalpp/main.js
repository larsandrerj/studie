/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => XoppPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian9 = require("obsidian");

// src/XoppSettingsTab.ts
var import_obsidian = require("obsidian");
var XoppSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Auto export Xournal++ files").setDesc("Automatically export Xournal++ files to PDF upon modification.").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.autoExport).onChange(async (value) => {
        this.plugin.settings.autoExport = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Xournal++ installation path").setDesc("The path where Xournal++ is installed (leave empty for system default).").addText((toggle) => {
      toggle.setValue(this.plugin.settings.xournalppPath).onChange(async (value) => {
        this.plugin.settings.xournalppPath = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Xournal++ template path").setDesc(
      "The relative path of the template for any new Xournal++ file, e.g. templates/template.xopp (leave empty to use the default template)."
    ).addText((toggle) => {
      toggle.setValue(this.plugin.settings.templatePath).onChange(async (value) => {
        this.plugin.settings.templatePath = value;
        await this.plugin.saveSettings();
      });
    });
  }
};

// src/checks.ts
var import_obsidian2 = require("obsidian");
var import_child_process = require("child_process");
async function checkXoppSetup(plugin) {
  let errors = [];
  let userPath = plugin.settings.xournalppPath;
  let aliasPath = "xournalpp";
  let windowsPath = '"c:/Program Files/Xournal++/bin/xournalpp.exe"';
  let macPath = '"/Applications/Xournal++.app/Contents/MacOS/xournalpp"';
  let versionCmd = " --version";
  if (userPath) {
    try {
      await executeCommand(userPath + versionCmd);
      return userPath;
    } catch (error) {
      errors.push("User defined Xournal++ path not working: " + error.message);
    }
  }
  try {
    await executeCommand(aliasPath + versionCmd);
    return aliasPath;
  } catch (error) {
    errors.push(error.message);
  }
  if (import_obsidian2.Platform.isWin) {
    try {
      await executeCommand(windowsPath + versionCmd);
      return windowsPath;
    } catch (error) {
      errors.push(error.message);
    }
  }
  if (import_obsidian2.Platform.isMacOS) {
    try {
      await executeCommand(macPath + versionCmd);
      return macPath;
    } catch (error) {
      errors.push(error.message);
    }
  }
  new import_obsidian2.Notice("Error: Xournal++ path not setup correctly. Please check docs on how to set it up.", 1e4);
  errors.forEach((error) => console.error("Xournal++ Error:" + error));
  return "error";
}
function executeCommand(command) {
  return new Promise((resolve, reject) => {
    (0, import_child_process.exec)(command, (error) => {
      if (error) {
        reject(error);
      } else {
        resolve();
      }
    });
  });
}

// src/xoppActions.ts
var import_obsidian3 = require("obsidian");

// src/template.ts
var base64Template = "H4sIAAAAAAAAA31U2Y6jOBR9r69AzCOasAUCo6RaJCErW0iAhDe2AIXByBgS+Pom0zXdqm5prh98fM9drCsfz789S0B0CWpyWC1IdsKQRIODKg4ArJIFWUHy2/vb/AlbVAWAiFASYIgW5PWHg6IIdsJOeJK45yD5WWZKjjk4xyB5/xUYw6gtkwoTfxNNkhAZxnXzD02nOc7acBLBkv7sUte/0Jz+UeZtXqOky5PHe+4uTfvBHLcpVEYzzk6mOumINq/zalz7l18NqSJ6gWV50GzmpNCPNa1YVNoFyeUVuFKBenLtaWXyIcchpC9Xm1sEPL6T5anUN9fm2UrH3W1VDL7esez+Bn03QxUjZExwUAvxDqRrK8a+F3IJ4s+6EIM+YhmZs0p3kyPW98ExuDKzAwtmnUjJbOmr57Q2ZEuP6wpL10y1reej6xLnmUjywBttjVqezfbDweEvWMfqckCn9CQwUNFjUVV2ZifSazRbhXawyyJjdWScnYlXy3V1TpUnD0/6/WTih2xhTWPdwsOi5ZV16kMpNF2KtqyN0BSFZgoJbCguNwAGKxx2lsT3VCyErpe7Mag4Z+vLQliGUWuwGy8vMVAi/KWPEok2Dpcfu2AwV49oA2D9O5/hm62IM352oX1TwnmL44tRLku6ScVrfpMZmb88qfVuWPrBQbt6Q3c39U6iNK30cRxqDZR6yN8bDR+OQeBIgbH9Up9Zb/t1GTCl5GbTcH064z94Zt1tLSh27nDsnVsZXowD31WeN044vhSoDT1PLMvYDdjnnZb3A1eqBar9aw/VP+a6N+sPO8z+Z+7Vebf1OOkhD/qu7zo90I1dWPoFnHX05TZwH2mT+yC3iwYJzlb7ctf91mwpkNoI+/RjplFi1/ax4G8qaRpZd2aw3KsE6COtHBm7V1rqeLGL9N/XfbAdQUXFIU3TxWJO/6eSUS9BmhCPPMbZghRkYcLNBEFmmVHfWZKnGV6Q0pSdSJI8E6ejd8wIg6hIEWyrmMB9PYq/gSCPSSKC4CX5v+6f9vohejDyKQrqjKTHVBD0CXoB+tX2tX8q+P3tO/W5z/ViBAAA";

// src/xoppActions.ts
var import_child_process2 = require("child_process");
async function openXournalppFile(xoppFile, plugin) {
  let path = await checkXoppSetup(plugin);
  let fs = plugin.app.vault.adapter;
  if (fs instanceof import_obsidian3.FileSystemAdapter) {
    let vaultPath = fs.getBasePath();
    if (!path || path === "error") {
      new import_obsidian3.Notice("Error: Xournal++ path not setup correctly. Please check docs on how to set it up.", 1e4);
      return;
    }
    let command = `${path} "${vaultPath + "/" + xoppFile.path}"`;
    new import_obsidian3.Notice("Opening file in Xournal++");
    (0, import_child_process2.exec)(command, (error) => {
      if (error) {
        new import_obsidian3.Notice("Error opening file in Xournal++. Check console for error message.");
        console.error(`Error opening file in Xournal++: ${error.message}`);
        return;
      }
    });
  } else {
    new import_obsidian3.Notice("Error opening file in Xournal++. Check console for error message.");
  }
}
async function createXoppFile(plugin, newNoteName) {
  let newNotePath = "/" + newNoteName;
  const fs = plugin.app.vault.adapter;
  try {
    const templatePath = await getTemplateFilePath(plugin, fs);
    await fs.copy(templatePath, newNotePath);
    new import_obsidian3.Notice("Xournal++ note created");
  } catch (e) {
    new import_obsidian3.Notice("Error: Could not create a Xournal++ note: " + e.message);
  }
}
function findCorrespondingXoppToPdf(pdfFilePath, plugin) {
  var _a;
  let xoppFilePath = pdfFilePath == null ? void 0 : pdfFilePath.replace(".pdf", ".xopp");
  let xoppFilename = xoppFilePath.substring(xoppFilePath.lastIndexOf("/") + 1);
  const pdfFile = plugin.app.vault.getFileByPath(pdfFilePath);
  const parentFolder = (_a = pdfFile == null ? void 0 : pdfFile.parent) != null ? _a : plugin.app.vault.getFolderByPath("/");
  const xoppFile = parentFolder == null ? void 0 : parentFolder.children.find((child) => child.name === xoppFilename);
  if (xoppFile instanceof import_obsidian3.TFile)
    return xoppFile;
}
async function getTemplateFilePath(plugin, fs) {
  const userTemplatePath = plugin.settings.templatePath;
  if (userTemplatePath) {
    if (!await fs.exists(userTemplatePath))
      throw new Error("Could not find the given template file.");
    return userTemplatePath;
  }
  const DEFAULT_TEMPLATE_PATH = plugin.app.vault.configDir + "/plugins/" + plugin.manifest.id + "/template.xopp";
  if (!await fs.exists(DEFAULT_TEMPLATE_PATH)) {
    await createTemplate(plugin, DEFAULT_TEMPLATE_PATH).catch(() => {
      throw new Error("Unable to get or create the default template.");
    });
  }
  return DEFAULT_TEMPLATE_PATH;
}
async function createTemplate(plugin, path) {
  let binaryString = atob(base64Template);
  let bytes = new Uint8Array(binaryString.length);
  for (let i = 0; i < binaryString.length; i++) {
    bytes[i] = binaryString.charCodeAt(i);
  }
  await plugin.app.vault.createBinary(path, bytes.buffer);
}

// src/modal.ts
var import_obsidian4 = require("obsidian");
var createXoppFileModal = class extends import_obsidian4.Modal {
  constructor(app, plugin, path = "") {
    super(app);
    this.plugin = plugin;
    this.filePath = path ? path + "/" : "";
  }
  onOpen() {
    const { contentEl } = this;
    let fileName;
    let container = contentEl.createDiv({ cls: "new-file-modal-form" });
    new import_obsidian4.TextComponent(container).setPlaceholder("File name").onChange((i) => fileName = i).inputEl.addEventListener("keypress", (e) => {
      if (e.key === "Enter")
        this.submitInput(fileName);
    });
    new import_obsidian4.ButtonComponent(container).setButtonText("Create").onClick(() => {
      this.submitInput(fileName);
    });
  }
  submitInput(path) {
    path += ".xopp";
    createXoppFile(this.plugin, this.filePath + path);
    this.close();
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};

// src/xopp2pdf.ts
var import_obsidian5 = require("obsidian");
var import_child_process3 = require("child_process");
function exportXoppToPDF(plugin, filePaths, notify = true) {
  let errors = false;
  filePaths.forEach(async (filePath) => {
    let fs = plugin.app.vault.adapter;
    if (fs instanceof import_obsidian5.FileSystemAdapter) {
      let vaultPath = fs.getBasePath();
      let xoppFilePath = vaultPath + "/" + filePath;
      let pdfFilePath = xoppFilePath.replace(".xopp", ".pdf");
      let path = await checkXoppSetup(plugin);
      if (!path || path === "error") {
        new import_obsidian5.Notice("Error: Xournal++ path not setup correctly. Please check docs on how to set it up.", 1e4);
        return;
      }
      let command = `${path} --create-pdf="${pdfFilePath}" "${xoppFilePath}"`;
      (0, import_child_process3.exec)(command, (error) => {
        if (error) {
          console.error(`Error converting Xournal++ to PDF: ${error.message}`);
          errors = true;
          return;
        }
      });
    }
  });
  if (errors) {
    new import_obsidian5.Notice("Error converting Xournal++ to PDF. Check the console for more information.");
    return;
  }
  if (notify)
    new import_obsidian5.Notice("Exported all Xournal++ notes successfully.");
}

// src/commands.ts
function createCommands(plugin) {
  plugin.addCommand({
    id: "open-in-xournalpp",
    name: "Open current note",
    checkCallback: (checking) => {
      var _a, _b;
      let pdfFilePath = (_a = plugin.app.workspace.getActiveFile()) == null ? void 0 : _a.path;
      if (!pdfFilePath || ((_b = plugin.app.workspace.getActiveFile()) == null ? void 0 : _b.extension) !== "pdf")
        return false;
      let xoppFile = findCorrespondingXoppToPdf(pdfFilePath, plugin);
      if (!xoppFile)
        return false;
      if (!checking)
        openXournalppFile(xoppFile, plugin);
      return true;
    }
  });
  plugin.addCommand({
    id: "crate-new-xournalpp",
    name: "Create a new note",
    callback: async () => {
      new createXoppFileModal(plugin.app, plugin).setTitle("Create a new Xournal++ note").open();
    }
  });
  plugin.addCommand({
    id: "export-xournalpp-to-pdf",
    name: "Export all notes to PDF",
    callback: async () => {
      let files = plugin.app.vault.getFiles();
      files = files.filter((file) => file.extension === "xopp");
      let filePaths = files.map((file) => file.path);
      exportXoppToPDF(plugin, filePaths);
    }
  });
  plugin.addCommand({
    id: "export-current-xournalpp-to-pdf",
    name: "Update current PDF",
    checkCallback: (checking) => {
      var _a;
      let filePath = (_a = plugin.app.workspace.getActiveFile()) == null ? void 0 : _a.path;
      if (filePath.includes(".pdf")) {
        if (!checking) {
          filePath = filePath == null ? void 0 : filePath.replace(".pdf", ".xopp");
          exportXoppToPDF(plugin, [filePath]);
        }
        return true;
      }
      return false;
    }
  });
}

// src/fileMenu.ts
var import_obsidian6 = require("obsidian");
function addXournalppOptionsToFileMenu(menu, file, plugin) {
  if (file instanceof import_obsidian6.TFile) {
    if (file.extension === "xopp") {
      addOpenInXournalppMenu(menu, file, plugin);
    } else if (file.extension === "pdf") {
      let xoppFile = findCorrespondingXoppToPdf(file.path, plugin);
      if (xoppFile) {
        addOpenInXournalppMenu(menu, xoppFile, plugin);
      }
    }
  } else if (file instanceof import_obsidian6.TFolder) {
    if (file == null ? void 0 : file.children) {
      addCreateXournalppMenu(menu, file, plugin);
    }
  }
}
function addOpenInXournalppMenu(menu, xoppFile, plugin) {
  menu.addItem((item) => {
    item.setTitle("Open in Xournal++").setIcon("pen-tool").onClick(() => {
      openXournalppFile(xoppFile, plugin);
    });
  });
  menu.addItem((item) => {
    item.setTitle("Update from Xournal++").setIcon("rotate-cw").onClick(() => {
      var _a;
      let filePath = (_a = plugin.app.workspace.getActiveFile()) == null ? void 0 : _a.path;
      filePath = filePath == null ? void 0 : filePath.replace(".pdf", ".xopp");
      exportXoppToPDF(plugin, [filePath]);
    });
  });
}
function addCreateXournalppMenu(menu, folder, plugin) {
  menu.addItem((item) => {
    item.setTitle("Create new Xournal++").setIcon("pen-tool").onClick(() => {
      var _a;
      new createXoppFileModal(plugin.app, plugin, (_a = folder == null ? void 0 : folder.path) != null ? _a : "").setTitle("Create a new Xournal++ note").open();
    });
  });
}

// src/pdfToolbar.ts
var import_obsidian7 = require("obsidian");
function addOpenInXournalppToPdfToolbar(file, plugin) {
  if (file && file.extension === "pdf") {
    const oldIcons = document.querySelectorAll(".xournalpp-open-icon");
    oldIcons.forEach((old) => old.remove());
    let xoppFile = findCorrespondingXoppToPdf(file.path, plugin);
    if (xoppFile) {
      const pdfToolbar = document.querySelector(".pdf-toolbar-right");
      if (pdfToolbar) {
        createPdfToolbarButton(pdfToolbar, xoppFile, plugin);
      }
    }
  }
}
function createPdfToolbarButton(pdfToolbar, xoppFile, plugin) {
  let xoppButton = new import_obsidian7.ButtonComponent(pdfToolbar).setClass("clickable-icon").setClass("xournalpp-open-icon").setButtonText("Edit in Xournal++").setIcon("pen-tool").setTooltip("Edit in Xournal++");
  xoppButton.onClick(() => {
    openXournalppFile(xoppFile, plugin);
  });
  pdfToolbar.appendChild(xoppButton.buttonEl);
}

// src/fileExplorerNav.ts
var import_obsidian8 = require("obsidian");
function addCreateXournalppNavIcon(plugin) {
  let fileExplorers = plugin.app.workspace.getLeavesOfType("file-explorer");
  fileExplorers.forEach((fileExplorer) => {
    var _a;
    let fileExplorerIconsNav = (_a = fileExplorer.view) == null ? void 0 : _a.headerDom.navButtonsEl;
    if (fileExplorerIconsNav && fileExplorerIconsNav.children.length > 2 && !fileExplorerIconsNav.querySelector(".xournalpp-create-icon")) {
      let createXoppButton = new import_obsidian8.ButtonComponent(fileExplorerIconsNav).setClass("clickable-icon").setClass("xournalpp-create-icon").setIcon("pen-tool").setTooltip("Create new Xournal++");
      createXoppButton.onClick(() => {
        new createXoppFileModal(plugin.app, plugin).setTitle("Create a new Xournal++ note").open();
      });
      fileExplorerIconsNav.insertAfter(createXoppButton.buttonEl, fileExplorerIconsNav.children[1]);
    }
  });
}

// src/fileExplorerFile.ts
function addOpenInXournalpp(plugin) {
  let fileExplorers = plugin.app.workspace.getLeavesOfType("file-explorer");
  fileExplorers.forEach((fileExplorer) => {
    var _a;
    let allFiles = (_a = fileExplorer.view) == null ? void 0 : _a.fileItems;
    const files = [];
    Object.entries(allFiles).forEach(([filePath, value]) => {
      if (filePath.endsWith(".pdf")) {
        let xoppFile = findCorrespondingXoppToPdf(filePath, plugin);
        if (xoppFile)
          files.push([value.tagEl, xoppFile]);
      }
    });
    files.forEach(([div, file]) => {
      div.innerText = "X++";
      div.classList.add("clickable-tag");
      div.onclick = () => {
        openXournalppFile(file, plugin);
      };
    });
  });
}

// src/listeners.ts
function setupListeners(plugin) {
  initialLoad(plugin);
  plugin.registerEvent(plugin.app.workspace.on("layout-change", () => {
    addCreateXournalppNavIcon(plugin);
    addOpenInXournalpp(plugin);
  }));
  plugin.registerEvent(plugin.app.workspace.on("file-open", (file) => {
    addOpenInXournalppToPdfToolbar(file, plugin);
  }));
  plugin.registerEvent(plugin.app.workspace.on("file-menu", (menu, file) => {
    addXournalppOptionsToFileMenu(menu, file, plugin);
  }));
  plugin.registerEvent(plugin.app.workspace.on("active-leaf-change", (leaf) => {
    if ((leaf == null ? void 0 : leaf.getDisplayText()) === "Files") {
      addCreateXournalppNavIcon(plugin);
      addOpenInXournalpp(plugin);
    }
  }));
  plugin.registerEvent(plugin.app.vault.on("modify", (file) => {
    if (file.extension === "xopp" && plugin.settings.autoExport)
      exportXoppToPDF(plugin, [file.path], false);
  }));
  plugin.registerEvent(plugin.app.vault.on("create", (file) => {
    if (file.extension === "xopp" && plugin.settings.autoExport)
      exportXoppToPDF(plugin, [file.path], false);
  }));
}
function initialLoad(plugin) {
  if (plugin.settings.autoExport) {
    let files = plugin.app.vault.getFiles();
    files = files.filter((file) => file.extension === "xopp");
    let filePaths = files.map((file) => file.path);
    exportXoppToPDF(plugin, filePaths, false);
  }
  addCreateXournalppNavIcon(plugin);
  addOpenInXournalpp(plugin);
}

// src/ribbonIcons.ts
function createRibbonIcons(plugin) {
  plugin.addRibbonIcon("pen-tool", "Create new Xournal++ note", (evt) => {
    new createXoppFileModal(plugin.app, plugin).setTitle("Create a new Xournal++ note").open();
  });
}

// main.ts
var DEFAULT_SETTINGS = {
  autoExport: false,
  xournalppPath: "",
  templatePath: ""
};
var XoppPlugin = class extends import_obsidian9.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new XoppSettingsTab(this.app, this));
    setupListeners(this);
    createCommands(this);
    createRibbonIcons(this);
    checkXoppSetup(this);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  onunload() {
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvWG9wcFNldHRpbmdzVGFiLnRzIiwgInNyYy9jaGVja3MudHMiLCAic3JjL3hvcHBBY3Rpb25zLnRzIiwgInNyYy90ZW1wbGF0ZS50cyIsICJzcmMvbW9kYWwudHMiLCAic3JjL3hvcHAycGRmLnRzIiwgInNyYy9jb21tYW5kcy50cyIsICJzcmMvZmlsZU1lbnUudHMiLCAic3JjL3BkZlRvb2xiYXIudHMiLCAic3JjL2ZpbGVFeHBsb3Jlck5hdi50cyIsICJzcmMvZmlsZUV4cGxvcmVyRmlsZS50cyIsICJzcmMvbGlzdGVuZXJzLnRzIiwgInNyYy9yaWJib25JY29ucy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgWG9wcFNldHRpbmdzVGFiIH0gZnJvbSAnc3JjL1hvcHBTZXR0aW5nc1RhYic7XG5pbXBvcnQgeyBjaGVja1hvcHBTZXR1cCB9IGZyb20gJ3NyYy9jaGVja3MnO1xuaW1wb3J0IHsgY3JlYXRlQ29tbWFuZHMgfSBmcm9tICdzcmMvY29tbWFuZHMnO1xuaW1wb3J0IHsgc2V0dXBMaXN0ZW5lcnMgfSBmcm9tICdzcmMvbGlzdGVuZXJzJztcbmltcG9ydCB7IGNyZWF0ZVJpYmJvbkljb25zIH0gZnJvbSAnc3JjL3JpYmJvbkljb25zJztcblxuaW50ZXJmYWNlIFhvcHBQbHVnaW5TZXR0aW5ncyB7XG4gICAgYXV0b0V4cG9ydDogYm9vbGVhbjtcbiAgICB4b3VybmFscHBQYXRoOiBzdHJpbmc7XG4gICAgdGVtcGxhdGVQYXRoOiBzdHJpbmc7XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFBhcnRpYWw8WG9wcFBsdWdpblNldHRpbmdzPiA9IHtcbiAgICBhdXRvRXhwb3J0OiBmYWxzZSxcbiAgICB4b3VybmFscHBQYXRoOiBcIlwiLFxuICAgIHRlbXBsYXRlUGF0aDogXCJcIixcbn07ICBcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWG9wcFBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3M6IFhvcHBQbHVnaW5TZXR0aW5ncztcblxuICAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBYb3BwU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgICAgICAgc2V0dXBMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIGNyZWF0ZUNvbW1hbmRzKHRoaXMpO1xuICAgICAgICBjcmVhdGVSaWJib25JY29ucyh0aGlzKTtcbiAgICAgICAgY2hlY2tYb3BwU2V0dXAodGhpcyk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgICB9XG4gICAgXG4gICAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuICAgIH0gICAgXG5cbiAgICBvbnVubG9hZCgpIHt9XG59XG4iLCAiaW1wb3J0IFhvcHBQbHVnaW4gZnJvbSBcIm1haW5cIjtcbmltcG9ydCB7IEFwcCwgU2V0dGluZywgUGx1Z2luU2V0dGluZ1RhYiB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgY2xhc3MgWG9wcFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgcGx1Z2luOiBYb3BwUGx1Z2luO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogWG9wcFBsdWdpbikge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cbiAgXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJBdXRvIGV4cG9ydCBYb3VybmFsKysgZmlsZXNcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiQXV0b21hdGljYWxseSBleHBvcnQgWG91cm5hbCsrIGZpbGVzIHRvIFBERiB1cG9uIG1vZGlmaWNhdGlvbi5cIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0V4cG9ydClcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0V4cG9ydCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKFwiWG91cm5hbCsrIGluc3RhbGxhdGlvbiBwYXRoXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSBwYXRoIHdoZXJlIFhvdXJuYWwrKyBpcyBpbnN0YWxsZWQgKGxlYXZlIGVtcHR5IGZvciBzeXN0ZW0gZGVmYXVsdCkuXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCgodG9nZ2xlKSA9PiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy54b3VybmFscHBQYXRoKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy54b3VybmFscHBQYXRoID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlhvdXJuYWwrKyB0ZW1wbGF0ZSBwYXRoXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcbiAgICAgICAgICAgICAgICBcIlRoZSByZWxhdGl2ZSBwYXRoIG9mIHRoZSB0ZW1wbGF0ZSBmb3IgYW55IG5ldyBYb3VybmFsKysgZmlsZSwgZS5nLiB0ZW1wbGF0ZXMvdGVtcGxhdGUueG9wcCAobGVhdmUgZW1wdHkgdG8gdXNlIHRoZSBkZWZhdWx0IHRlbXBsYXRlKS5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmFkZFRleHQoKHRvZ2dsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGVtcGxhdGVQYXRoKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy50ZW1wbGF0ZVBhdGggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgXG59XG4iLCAiaW1wb3J0IHsgTm90aWNlLCBQbGF0Zm9ybSB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgZXhlYyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IFhvcHBQbHVnaW4gZnJvbSBcIm1haW5cIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrWG9wcFNldHVwKHBsdWdpbjogWG9wcFBsdWdpbik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IGVycm9ycyA9IFtdXG4gICAgbGV0IHVzZXJQYXRoID0gcGx1Z2luLnNldHRpbmdzLnhvdXJuYWxwcFBhdGg7XG4gICAgbGV0IGFsaWFzUGF0aCA9IFwieG91cm5hbHBwXCI7XG4gICAgbGV0IHdpbmRvd3NQYXRoID0gJ1wiYzovUHJvZ3JhbSBGaWxlcy9Yb3VybmFsKysvYmluL3hvdXJuYWxwcC5leGVcIic7XG4gICAgbGV0IG1hY1BhdGggPSAnXCIvQXBwbGljYXRpb25zL1hvdXJuYWwrKy5hcHAvQ29udGVudHMvTWFjT1MveG91cm5hbHBwXCInO1xuICAgIGxldCB2ZXJzaW9uQ21kID0gXCIgLS12ZXJzaW9uXCI7XG5cbiAgICBpZiAodXNlclBhdGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVDb21tYW5kKHVzZXJQYXRoICsgdmVyc2lvbkNtZCk7XG4gICAgICAgICAgICByZXR1cm4gdXNlclBhdGg7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChcIlVzZXIgZGVmaW5lZCBYb3VybmFsKysgcGF0aCBub3Qgd29ya2luZzogXCIgKyBlcnJvci5tZXNzYWdlKVxuICAgICAgICB9XG4gICAgfVxuICAgICBcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBleGVjdXRlQ29tbWFuZChhbGlhc1BhdGggKyB2ZXJzaW9uQ21kKTtcbiAgICAgICAgcmV0dXJuIGFsaWFzUGF0aDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlcnJvcnMucHVzaChlcnJvci5tZXNzYWdlKVxuICAgIH1cbiAgICBcbiAgICBpZiAoUGxhdGZvcm0uaXNXaW4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVDb21tYW5kKHdpbmRvd3NQYXRoICsgdmVyc2lvbkNtZCk7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93c1BhdGg7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChlcnJvci5tZXNzYWdlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFBsYXRmb3JtLmlzTWFjT1MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGV4ZWN1dGVDb21tYW5kKG1hY1BhdGggKyB2ZXJzaW9uQ21kKTtcbiAgICAgICAgICAgIHJldHVybiBtYWNQYXRoO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyb3IubWVzc2FnZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5ldyBOb3RpY2UoXCJFcnJvcjogWG91cm5hbCsrIHBhdGggbm90IHNldHVwIGNvcnJlY3RseS4gUGxlYXNlIGNoZWNrIGRvY3Mgb24gaG93IHRvIHNldCBpdCB1cC5cIiwgMTAwMDApO1xuICAgIGVycm9ycy5mb3JFYWNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoXCJYb3VybmFsKysgRXJyb3I6XCIgKyBlcnJvcikpXG4gICAgcmV0dXJuIFwiZXJyb3JcIjtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZUNvbW1hbmQoY29tbWFuZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZXhlYyhjb21tYW5kLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59IiwgImltcG9ydCBYb3BwUGx1Z2luIGZyb20gJ21haW4nO1xuaW1wb3J0IHsgVEZpbGUsIE5vdGljZSwgQXBwLCBEYXRhQWRhcHRlciwgVmF1bHQsIEZpbGVTeXN0ZW1BZGFwdGVyIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgYmFzZTY0VGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlJztcbmltcG9ydCB7IGNoZWNrWG9wcFNldHVwIH0gZnJvbSAnLi9jaGVja3MnO1xuaW1wb3J0IHsgZXhlYyB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlblhvdXJuYWxwcEZpbGUoeG9wcEZpbGU6IFRGaWxlLCBwbHVnaW46IFhvcHBQbHVnaW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBsZXQgcGF0aCA9IGF3YWl0IGNoZWNrWG9wcFNldHVwKHBsdWdpbik7XG5cbiAgICBsZXQgZnMgPSBwbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXI7XG4gICAgaWYgKGZzIGluc3RhbmNlb2YgRmlsZVN5c3RlbUFkYXB0ZXIpIHtcbiAgICAgICAgbGV0IHZhdWx0UGF0aCA9IGZzLmdldEJhc2VQYXRoKCk7XG5cbiAgICAgICAgaWYgKCFwYXRoIHx8IHBhdGggPT09IFwiZXJyb3JcIikge1xuICAgICAgICAgICAgbmV3IE5vdGljZShcIkVycm9yOiBYb3VybmFsKysgcGF0aCBub3Qgc2V0dXAgY29ycmVjdGx5LiBQbGVhc2UgY2hlY2sgZG9jcyBvbiBob3cgdG8gc2V0IGl0IHVwLlwiLCAxMDAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29tbWFuZCA9IGAke3BhdGh9IFwiJHt2YXVsdFBhdGggKyBcIi9cIiArIHhvcHBGaWxlLnBhdGh9XCJgO1xuICAgICAgICBuZXcgTm90aWNlKFwiT3BlbmluZyBmaWxlIGluIFhvdXJuYWwrK1wiKTtcbiAgICAgICAgZXhlYyhjb21tYW5kLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJFcnJvciBvcGVuaW5nIGZpbGUgaW4gWG91cm5hbCsrLiBDaGVjayBjb25zb2xlIGZvciBlcnJvciBtZXNzYWdlLlwiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBvcGVuaW5nIGZpbGUgaW4gWG91cm5hbCsrOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJFcnJvciBvcGVuaW5nIGZpbGUgaW4gWG91cm5hbCsrLiBDaGVjayBjb25zb2xlIGZvciBlcnJvciBtZXNzYWdlLlwiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVYb3BwRmlsZShwbHVnaW46IFhvcHBQbHVnaW4sIG5ld05vdGVOYW1lOiBzdHJpbmcpIHtcbiAgICBsZXQgbmV3Tm90ZVBhdGggPSAgXCIvXCIgKyBuZXdOb3RlTmFtZVxuICAgIGNvbnN0IGZzID0gcGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUGF0aCA9IGF3YWl0IGdldFRlbXBsYXRlRmlsZVBhdGgocGx1Z2luLCBmcyk7XG4gICAgICAgIGF3YWl0IGZzLmNvcHkodGVtcGxhdGVQYXRoLCBuZXdOb3RlUGF0aCk7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJYb3VybmFsKysgbm90ZSBjcmVhdGVkXCIpXG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJFcnJvcjogQ291bGQgbm90IGNyZWF0ZSBhIFhvdXJuYWwrKyBub3RlOiBcIiArIGUubWVzc2FnZSlcbiAgICB9XG4gICAgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQ29ycmVzcG9uZGluZ1hvcHBUb1BkZihwZGZGaWxlUGF0aDogc3RyaW5nLCBwbHVnaW46IFhvcHBQbHVnaW4pOiBURmlsZXx1bmRlZmluZWQge1xuICAgIGxldCB4b3BwRmlsZVBhdGggPSBwZGZGaWxlUGF0aD8ucmVwbGFjZShcIi5wZGZcIiwgXCIueG9wcFwiKTtcbiAgICBsZXQgeG9wcEZpbGVuYW1lID0geG9wcEZpbGVQYXRoLnN1YnN0cmluZyh4b3BwRmlsZVBhdGgubGFzdEluZGV4T2YoXCIvXCIpICsgMSlcbiAgICBjb25zdCBwZGZGaWxlID0gcGx1Z2luLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKHBkZkZpbGVQYXRoKTtcbiAgICBcbiAgICAvLyBzZXQgcGFyZW50IGZvbGRlciBvciByb290IHZhdWx0IGZvbGRlclxuICAgIGNvbnN0IHBhcmVudEZvbGRlciA9IHBkZkZpbGU/LnBhcmVudCA/PyBwbHVnaW4uYXBwLnZhdWx0LmdldEZvbGRlckJ5UGF0aChcIi9cIik7XG4gICAgY29uc3QgeG9wcEZpbGUgPSBwYXJlbnRGb2xkZXI/LmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5uYW1lID09PSB4b3BwRmlsZW5hbWUpXG5cbiAgICBpZiAoeG9wcEZpbGUgaW5zdGFuY2VvZiBURmlsZSkgcmV0dXJuIHhvcHBGaWxlXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUZW1wbGF0ZUZpbGVQYXRoKFxuICAgIHBsdWdpbjogWG9wcFBsdWdpbixcbiAgICBmczogRGF0YUFkYXB0ZXJcbik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgdXNlclRlbXBsYXRlUGF0aCA9IHBsdWdpbi5zZXR0aW5ncy50ZW1wbGF0ZVBhdGg7XG4gICAgaWYgKHVzZXJUZW1wbGF0ZVBhdGgpIHtcbiAgICAgICAgaWYgKCEoYXdhaXQgZnMuZXhpc3RzKHVzZXJUZW1wbGF0ZVBhdGgpKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIHRoZSBnaXZlbiB0ZW1wbGF0ZSBmaWxlLlwiKTtcbiAgICAgICAgcmV0dXJuIHVzZXJUZW1wbGF0ZVBhdGg7XG4gICAgfVxuXG4gICAgY29uc3QgREVGQVVMVF9URU1QTEFURV9QQVRIID1cbiAgICAgICAgcGx1Z2luLmFwcC52YXVsdC5jb25maWdEaXIgK1xuICAgICAgICBcIi9wbHVnaW5zL1wiICtcbiAgICAgICAgcGx1Z2luLm1hbmlmZXN0LmlkICtcbiAgICAgICAgXCIvdGVtcGxhdGUueG9wcFwiO1xuXG4gICAgaWYgKCEoYXdhaXQgZnMuZXhpc3RzKERFRkFVTFRfVEVNUExBVEVfUEFUSCkpKSB7XG4gICAgICAgIGF3YWl0IGNyZWF0ZVRlbXBsYXRlKHBsdWdpbiwgREVGQVVMVF9URU1QTEFURV9QQVRIKVxuICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IG9yIGNyZWF0ZSB0aGUgZGVmYXVsdCB0ZW1wbGF0ZS5cIil9KTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIERFRkFVTFRfVEVNUExBVEVfUEFUSDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRlKHBsdWdpbjogWG9wcFBsdWdpbiwgcGF0aDogc3RyaW5nKSB7XG4gICAgLy8gYmFzZTY0IHRvIFVpbnQ4QXJyYXlcbiAgICBsZXQgYmluYXJ5U3RyaW5nOiBzdHJpbmcgPSBhdG9iKGJhc2U2NFRlbXBsYXRlKTtcbiAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheShiaW5hcnlTdHJpbmcubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmFyeVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgZmlsZSBpbiBmc1xuICAgIGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuY3JlYXRlQmluYXJ5KHBhdGgsIGJ5dGVzLmJ1ZmZlcik7XG59XG4iLCAiLy8gdGVtcGxhdGUueG9wcCBhcyBhIGJhc2U2NCBzdHJpbmcgLSBlbmNvZGVkIHVzaW5nIGh0dHBzOi8vd3d3LmJyb3dzZXJsaW5nLmNvbS90b29scy9maWxlLXRvLWJhc2U2NFxuZXhwb3J0IGNvbnN0IGJhc2U2NFRlbXBsYXRlOiBzdHJpbmcgPVxuICAgIFwiSDRzSUFBQUFBQUFBQTMxVTJZNmpPQlI5cjY5QXpDT2FzQVVDbzZSYUpDRXJXMGlBaERlMkFJWEJ5QmdTK1BvbTB6WGRxbTVwcmg5OGZNOWRyQ3Nmejc4OVMwQjBDV3B5V0MxSWRzS1FSSU9ES2c0QXJKSUZXVUh5Mi92Yi9BbGJWQVdBaUZBU1lJZ1c1UFdIZzZJSWRzSk9lSks0NXlENVdXWktqams0eHlCNS94VVl3Nmd0a3dvVGZ4Tk5raEFaeG5YekQwMm5PYzdhY0JMQmt2N3NVdGUvMEp6K1VlWnRYcU9reTVQSGUrNHVUZnZCSExjcFZFWXp6azZtT3VtSU5xL3phbHo3bDE4TnFTSjZnV1Y1MEd6bXBOQ1BOYTFZVk5vRnllVVZ1RktCZW5MdGFXWHlJY2NocEM5WG0xc0VQTDZUNWFuVU45Zm0yVXJIM1cxVkRMN2VzZXorQm4wM1F4VWpaRXh3VUF2eERxUnJLOGErRjNJSjRzKzZFSU0rWWhtWnMwcDNreVBXOThFeHVES3pBd3RtblVqSmJPbXI1N1EyWkV1UDZ3cEwxMHkxcmVlajZ4TG5tVWp5d0J0dGpWcWV6ZmJEd2VFdldNZnFja0NuOUNRd1VORmpVVlYyWmlmU2F6UmJoWGF3eXlKamRXU2NuWWxYeTNWMVRwVW5EMC82L1dUaWgyeGhUV1Bkd3NPaTVaVjE2a01wTkYyS3RxeU4wQlNGWmdvSmJDZ3VOd0FHS3h4MmxzVDNWQ3lFcnBlN01hZzRaK3ZMUWxpR1VXdXdHeTh2TVZBaS9LV1BFb2syRHBjZnUyQXdWNDlvQTJEOU81L2htNjJJTTM1Mm9YMVR3bm1MNDR0UkxrdTZTY1ZyZnBNWm1iODhxZlZ1V1ByQlFidDZRM2MzOVU2aU5LMzBjUnhxRFpSNnlOOGJEUitPUWVCSWdiSDlVcDlaYi90MUdUQ2w1R2JUY0gwNjR6OTRadDF0TFNoMjduRHNuVnNaWG93RDMxV2VOMDQ0dmhTb0RUMVBMTXZZRGRqbm5aYjNBMWVxQmFyOWF3L1ZQK2E2TitzUE84eitaKzdWZWJmMU9Pa2hEL3F1N3pvOTBJMWRXUG9GbkhYMDVUWndIMm1UK3lDM2l3WUp6bGI3Y3RmOTFtd3BrTm9JKy9SanBsRmkxL2F4NEc4cWFScFpkMmF3M0tzRTZDT3RIQm03VjFycWVMR0w5Ti9YZmJBZFFVWEZJVTNUeFdKTy82ZVNVUzlCbWhDUFBNYlpnaFJrWWNMTkJFRm1tVkhmV1pLbkdWNlEwcFNkU0pJOEU2ZWpkOHdJZzZoSUVXeXJtTUI5UFlxL2dTQ1BTU0tDNENYNXYrNmY5dm9oZWpEeUtRcnFqS1RIVkJEMENYb0IrdFgydFg4cStQM3RPL1c1ei9WaUJBQUFcIjtcbiIsICJpbXBvcnQgeyBBcHAsIEJ1dHRvbkNvbXBvbmVudCwgTW9kYWwsIFNldHRpbmcsIFRleHRDb21wb25lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGNyZWF0ZVhvcHBGaWxlIH0gZnJvbSBcIi4veG9wcEFjdGlvbnNcIjtcbmltcG9ydCBYb3BwUGx1Z2luIGZyb20gXCJtYWluXCI7XG5cbmV4cG9ydCBjbGFzcyBjcmVhdGVYb3BwRmlsZU1vZGFsIGV4dGVuZHMgTW9kYWwge1xuICAgIHBsdWdpbjogWG9wcFBsdWdpbjtcbiAgICBmaWxlUGF0aDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogWG9wcFBsdWdpbiwgcGF0aDogc3RyaW5nID0gXCJcIikge1xuICAgICAgICBzdXBlcihhcHApO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbiBhcyBYb3BwUGx1Z2luO1xuICAgICAgICB0aGlzLmZpbGVQYXRoID0gcGF0aCA/IHBhdGggKyBcIi9cIiA6IFwiXCI7XG4gICAgfVxuXG4gICAgb25PcGVuKCkge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgbGV0IGZpbGVOYW1lOiBzdHJpbmc7XG5cbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoe2NsczogJ25ldy1maWxlLW1vZGFsLWZvcm0nfSlcblxuICAgICAgICBuZXcgVGV4dENvbXBvbmVudChjb250YWluZXIpXG4gICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoXCJGaWxlIG5hbWVcIilcbiAgICAgICAgICAgIC5vbkNoYW5nZSgoaSkgPT4gZmlsZU5hbWUgPSBpKVxuICAgICAgICAgICAgLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHRoaXMuc3VibWl0SW5wdXQoZmlsZU5hbWUpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIG5ldyBCdXR0b25Db21wb25lbnQoY29udGFpbmVyKVxuICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJDcmVhdGVcIilcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdElucHV0KGZpbGVOYW1lKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICB9XG4gICAgICAgIFxuICAgIFxuICAgIHN1Ym1pdElucHV0KHBhdGg6IHN0cmluZykge1xuICAgICAgICBwYXRoICs9IFwiLnhvcHBcIjtcblxuICAgICAgICBjcmVhdGVYb3BwRmlsZSh0aGlzLnBsdWdpbiwgdGhpcy5maWxlUGF0aCArIHBhdGgpXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gICAgXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBGaWxlU3lzdGVtQWRhcHRlciwgTm90aWNlLCBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiXG5pbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgWG9wcFBsdWdpbiBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHsgY2hlY2tYb3BwU2V0dXAgfSBmcm9tIFwiLi9jaGVja3NcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFhvcHBUb1BERihwbHVnaW46IFhvcHBQbHVnaW4sIGZpbGVQYXRoczogQXJyYXk8c3RyaW5nPiwgbm90aWZ5OiBib29sZWFuID0gdHJ1ZSkge1xuICAgIGxldCBlcnJvcnMgPSBmYWxzZTtcblxuICAgIGZpbGVQYXRocy5mb3JFYWNoKGFzeW5jIChmaWxlUGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGxldCBmcyA9IHBsdWdpbi5hcHAudmF1bHQuYWRhcHRlclxuICAgICAgICBpZiAoZnMgaW5zdGFuY2VvZiBGaWxlU3lzdGVtQWRhcHRlcikge1xuICAgICAgICAgICAgbGV0IHZhdWx0UGF0aCA9IGZzLmdldEJhc2VQYXRoKCk7XG4gICAgICAgICAgICBsZXQgeG9wcEZpbGVQYXRoID0gdmF1bHRQYXRoICsgXCIvXCIgKyBmaWxlUGF0aDtcbiAgICAgICAgICAgIGxldCBwZGZGaWxlUGF0aCA9IHhvcHBGaWxlUGF0aC5yZXBsYWNlKFwiLnhvcHBcIiwgXCIucGRmXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgcGF0aCA9IGF3YWl0IGNoZWNrWG9wcFNldHVwKHBsdWdpbik7XG4gICAgICAgICAgICBpZiAoIXBhdGggfHwgcGF0aCA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZShcIkVycm9yOiBYb3VybmFsKysgcGF0aCBub3Qgc2V0dXAgY29ycmVjdGx5LiBQbGVhc2UgY2hlY2sgZG9jcyBvbiBob3cgdG8gc2V0IGl0IHVwLlwiLCAxMDAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgY29tbWFuZCA9IGAke3BhdGh9IC0tY3JlYXRlLXBkZj1cIiR7cGRmRmlsZVBhdGh9XCIgXCIke3hvcHBGaWxlUGF0aH1cImBcbiAgICAgICAgICAgIGV4ZWMoY29tbWFuZCwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGNvbnZlcnRpbmcgWG91cm5hbCsrIHRvIFBERjogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgaWYgKGVycm9ycykge1xuICAgICAgICBuZXcgTm90aWNlKFwiRXJyb3IgY29udmVydGluZyBYb3VybmFsKysgdG8gUERGLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIik7XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICBpZiAobm90aWZ5KSBuZXcgTm90aWNlKFwiRXhwb3J0ZWQgYWxsIFhvdXJuYWwrKyBub3RlcyBzdWNjZXNzZnVsbHkuXCIpXG59IiwgImltcG9ydCB7IE5vdGljZSwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGZpbmRDb3JyZXNwb25kaW5nWG9wcFRvUGRmLCBvcGVuWG91cm5hbHBwRmlsZSB9IGZyb20gXCIuL3hvcHBBY3Rpb25zXCI7XG5pbXBvcnQgeyBjcmVhdGVYb3BwRmlsZU1vZGFsIH0gZnJvbSBcIi4vbW9kYWxcIjtcbmltcG9ydCBYb3BwUGx1Z2luIGZyb20gXCJtYWluXCI7XG5pbXBvcnQgeyBleHBvcnRYb3BwVG9QREYgfSBmcm9tIFwiLi94b3BwMnBkZlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tbWFuZHMocGx1Z2luOiBYb3BwUGx1Z2luKSB7XG4gICAgcGx1Z2luLmFkZENvbW1hbmQoe1xuICAgICAgICBpZDogJ29wZW4taW4teG91cm5hbHBwJyxcbiAgICAgICAgbmFtZTogJ09wZW4gY3VycmVudCBub3RlJyxcbiAgICAgICAgY2hlY2tDYWxsYmFjazogKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgICBsZXQgcGRmRmlsZVBhdGggPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk/LnBhdGhcbiAgICAgICAgICAgIGlmICghcGRmRmlsZVBhdGggfHwgcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpPy5leHRlbnNpb24gIT09IFwicGRmXCIpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgbGV0IHhvcHBGaWxlID0gZmluZENvcnJlc3BvbmRpbmdYb3BwVG9QZGYocGRmRmlsZVBhdGgsIHBsdWdpbilcbiAgICAgICAgICAgIGlmICgheG9wcEZpbGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKCFjaGVja2luZykgb3BlblhvdXJuYWxwcEZpbGUoeG9wcEZpbGUsIHBsdWdpbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICAgICAgaWQ6ICdjcmF0ZS1uZXcteG91cm5hbHBwJyxcbiAgICAgICAgbmFtZTogJ0NyZWF0ZSBhIG5ldyBub3RlJyxcbiAgICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIG5ldyBjcmVhdGVYb3BwRmlsZU1vZGFsKHBsdWdpbi5hcHAsIHBsdWdpbilcbiAgICAgICAgICAgICAgICAuc2V0VGl0bGUoXCJDcmVhdGUgYSBuZXcgWG91cm5hbCsrIG5vdGVcIilcbiAgICAgICAgICAgICAgICAub3BlbigpXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICAgICAgaWQ6ICdleHBvcnQteG91cm5hbHBwLXRvLXBkZicsXG4gICAgICAgIG5hbWU6ICdFeHBvcnQgYWxsIG5vdGVzIHRvIFBERicsXG4gICAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZmlsZXMgPSBwbHVnaW4uYXBwLnZhdWx0LmdldEZpbGVzKCk7XG4gICAgICAgICAgICBmaWxlcyA9IGZpbGVzLmZpbHRlcihmaWxlID0+IGZpbGUuZXh0ZW5zaW9uID09PSBcInhvcHBcIik7XG4gICAgICAgICAgICBsZXQgZmlsZVBhdGhzID0gZmlsZXMubWFwKGZpbGUgPT4gZmlsZS5wYXRoKVxuICAgICAgICAgICAgZXhwb3J0WG9wcFRvUERGKHBsdWdpbiwgZmlsZVBhdGhzKVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgICAgIGlkOiAnZXhwb3J0LWN1cnJlbnQteG91cm5hbHBwLXRvLXBkZicsXG4gICAgICAgIG5hbWU6ICdVcGRhdGUgY3VycmVudCBQREYnLFxuICAgICAgICBjaGVja0NhbGxiYWNrOiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICAgIGxldCBmaWxlUGF0aCA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKT8ucGF0aCBhcyBzdHJpbmc7XG5cbiAgICAgICAgICAgIGlmIChmaWxlUGF0aC5pbmNsdWRlcyhcIi5wZGZcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNoZWNraW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoID0gZmlsZVBhdGg/LnJlcGxhY2UoXCIucGRmXCIsIFwiLnhvcHBcIik7XG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydFhvcHBUb1BERihwbHVnaW4sIFtmaWxlUGF0aF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59IiwgImltcG9ydCB7IE1lbnUsIFRGaWxlLCBURm9sZGVyIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBmaW5kQ29ycmVzcG9uZGluZ1hvcHBUb1BkZiwgb3BlblhvdXJuYWxwcEZpbGUgfSBmcm9tIFwiLi94b3BwQWN0aW9uc1wiO1xuaW1wb3J0IHsgY3JlYXRlWG9wcEZpbGVNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5pbXBvcnQgWG9wcFBsdWdpbiBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHsgZXhwb3J0WG9wcFRvUERGIH0gZnJvbSBcIi4veG9wcDJwZGZcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFhvdXJuYWxwcE9wdGlvbnNUb0ZpbGVNZW51KG1lbnU6IE1lbnUsIGZpbGU6IFRGaWxlfFRGb2xkZXIsIHBsdWdpbjogWG9wcFBsdWdpbikge1xuICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcbiAgICAgICAgaWYgKGZpbGUuZXh0ZW5zaW9uID09PSBcInhvcHBcIikge1xuICAgICAgICAgICAgYWRkT3BlbkluWG91cm5hbHBwTWVudShtZW51LCBmaWxlLCBwbHVnaW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpbGUuZXh0ZW5zaW9uID09PSBcInBkZlwiKSB7XG4gICAgICAgICAgICBsZXQgeG9wcEZpbGUgPSBmaW5kQ29ycmVzcG9uZGluZ1hvcHBUb1BkZihmaWxlLnBhdGgsIHBsdWdpbik7XG4gICAgICAgICAgICBpZiAoeG9wcEZpbGUpIHtcbiAgICAgICAgICAgICAgICBhZGRPcGVuSW5Yb3VybmFscHBNZW51KG1lbnUsIHhvcHBGaWxlLCBwbHVnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG4gICAgICAgIGlmIChmaWxlPy5jaGlsZHJlbikge1xuICAgICAgICAgICAgYWRkQ3JlYXRlWG91cm5hbHBwTWVudShtZW51LCBmaWxlLCBwbHVnaW4pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhZGRPcGVuSW5Yb3VybmFscHBNZW51KG1lbnU6IE1lbnUsIHhvcHBGaWxlOiBURmlsZSwgcGx1Z2luOiBYb3BwUGx1Z2luKSB7XG4gICAgbWVudS5hZGRJdGVtKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLnNldFRpdGxlKCdPcGVuIGluIFhvdXJuYWwrKycpXG4gICAgICAgICAgICAuc2V0SWNvbigncGVuLXRvb2wnKVxuICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5Yb3VybmFscHBGaWxlKHhvcHBGaWxlLCBwbHVnaW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgbWVudS5hZGRJdGVtKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLnNldFRpdGxlKCdVcGRhdGUgZnJvbSBYb3VybmFsKysnKVxuICAgICAgICAgICAgLnNldEljb24oJ3JvdGF0ZS1jdycpXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGVQYXRoID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpPy5wYXRoIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICBmaWxlUGF0aCA9IGZpbGVQYXRoPy5yZXBsYWNlKFwiLnBkZlwiLCBcIi54b3BwXCIpO1xuICAgICAgICAgICAgICAgIGV4cG9ydFhvcHBUb1BERihwbHVnaW4sIFtmaWxlUGF0aF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZENyZWF0ZVhvdXJuYWxwcE1lbnUobWVudTogTWVudSwgZm9sZGVyOiBURm9sZGVyLCBwbHVnaW46IFhvcHBQbHVnaW4pIHtcbiAgICBtZW51LmFkZEl0ZW0oaXRlbSA9PiB7XG4gICAgICAgIGl0ZW0uc2V0VGl0bGUoJ0NyZWF0ZSBuZXcgWG91cm5hbCsrJylcbiAgICAgICAgICAgIC5zZXRJY29uKCdwZW4tdG9vbCcpXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3IGNyZWF0ZVhvcHBGaWxlTW9kYWwocGx1Z2luLmFwcCwgcGx1Z2luLCBmb2xkZXI/LnBhdGggPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFRpdGxlKFwiQ3JlYXRlIGEgbmV3IFhvdXJuYWwrKyBub3RlXCIpXG4gICAgICAgICAgICAgICAgICAgIC5vcGVuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiIsICJpbXBvcnQgWG9wcFBsdWdpbiBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHsgTWFya2Rvd25WaWV3LCBURmlsZSwgZ2V0TGlua3BhdGggfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGZpbmRDb3JyZXNwb25kaW5nWG9wcFRvUGRmIH0gZnJvbSBcIi4veG9wcEFjdGlvbnNcIjtcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCwgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgb3BlblhvdXJuYWxwcEZpbGUgfSBmcm9tICcuL3hvcHBBY3Rpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE9wZW5JblhvdXJuYWxwcFRvUGRmVG9vbGJhcihmaWxlOiBURmlsZSwgcGx1Z2luOiBYb3BwUGx1Z2luKSB7XG4gICAgaWYgKGZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09IFwicGRmXCIpIHtcbiAgICAgICAgLy8gcmVzZXQgaWNvblxuICAgICAgICBjb25zdCBvbGRJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy54b3VybmFscHAtb3Blbi1pY29uJyk7XG4gICAgICAgIG9sZEljb25zLmZvckVhY2goKG9sZCkgPT4gb2xkLnJlbW92ZSgpKVxuXG4gICAgICAgIGxldCB4b3BwRmlsZSA9IGZpbmRDb3JyZXNwb25kaW5nWG9wcFRvUGRmKGZpbGUucGF0aCwgcGx1Z2luKVxuXG4gICAgICAgIGlmICh4b3BwRmlsZSkge1xuICAgICAgICAgICAgLy8gc2hvdyB0b29sYmFyIGljb25cbiAgICAgICAgICAgIGNvbnN0IHBkZlRvb2xiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGRmLXRvb2xiYXItcmlnaHQnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKHBkZlRvb2xiYXIpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVQZGZUb29sYmFyQnV0dG9uKHBkZlRvb2xiYXIsIHhvcHBGaWxlLCBwbHVnaW4pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBkZlRvb2xiYXJCdXR0b24ocGRmVG9vbGJhcjogSFRNTEVsZW1lbnQsIHhvcHBGaWxlOiBURmlsZSwgcGx1Z2luOiBYb3BwUGx1Z2luKTogdm9pZCB7XG4gICAgbGV0IHhvcHBCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHBkZlRvb2xiYXIpXG4gICAgICAgIC5zZXRDbGFzcyhcImNsaWNrYWJsZS1pY29uXCIpXG4gICAgICAgIC5zZXRDbGFzcyhcInhvdXJuYWxwcC1vcGVuLWljb25cIilcbiAgICAgICAgLnNldEJ1dHRvblRleHQoJ0VkaXQgaW4gWG91cm5hbCsrJylcbiAgICAgICAgLnNldEljb24oJ3Blbi10b29sJylcbiAgICAgICAgLnNldFRvb2x0aXAoJ0VkaXQgaW4gWG91cm5hbCsrJyk7XG5cbiAgICAgICAgeG9wcEJ1dHRvbi5vbkNsaWNrKCgpID0+ICB7XG4gICAgICAgICAgICBvcGVuWG91cm5hbHBwRmlsZSh4b3BwRmlsZSwgcGx1Z2luKTtcbiAgICAgICAgfSlcblxuICAgICAgICBwZGZUb29sYmFyLmFwcGVuZENoaWxkKHhvcHBCdXR0b24uYnV0dG9uRWwpO1xufSIsICJpbXBvcnQgWG9wcFBsdWdpbiBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBjcmVhdGVYb3BwRmlsZU1vZGFsIH0gZnJvbSBcIi4vbW9kYWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uXHRhZGRDcmVhdGVYb3VybmFscHBOYXZJY29uKHBsdWdpbjogWG9wcFBsdWdpbikge1xuICAgIGxldCBmaWxlRXhwbG9yZXJzID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFwiZmlsZS1leHBsb3JlclwiKVxuXG4gICAgZmlsZUV4cGxvcmVycy5mb3JFYWNoKGZpbGVFeHBsb3JlciA9PiB7XG4gICAgICAgIGxldCBmaWxlRXhwbG9yZXJJY29uc05hdiA9IChmaWxlRXhwbG9yZXIudmlldyBhcyBhbnkpPy5oZWFkZXJEb20ubmF2QnV0dG9uc0VsO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZpbGVFeHBsb3Jlckljb25zTmF2ICYmIGZpbGVFeHBsb3Jlckljb25zTmF2LmNoaWxkcmVuLmxlbmd0aCA+IDIgJiYgIWZpbGVFeHBsb3Jlckljb25zTmF2LnF1ZXJ5U2VsZWN0b3IoJy54b3VybmFscHAtY3JlYXRlLWljb24nKSkge1xuICAgICAgICAgICAgbGV0IGNyZWF0ZVhvcHBCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGZpbGVFeHBsb3Jlckljb25zTmF2IGFzIEhUTUxFbGVtZW50KVxuICAgICAgICAgICAgICAgIC5zZXRDbGFzcyhcImNsaWNrYWJsZS1pY29uXCIpXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwieG91cm5hbHBwLWNyZWF0ZS1pY29uXCIpXG4gICAgICAgICAgICAgICAgLnNldEljb24oJ3Blbi10b29sJylcbiAgICAgICAgICAgICAgICAuc2V0VG9vbHRpcCgnQ3JlYXRlIG5ldyBYb3VybmFsKysnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY3JlYXRlWG9wcEJ1dHRvbi5vbkNsaWNrKCgpID0+ICB7XG4gICAgICAgICAgICAgICAgbmV3IGNyZWF0ZVhvcHBGaWxlTW9kYWwocGx1Z2luLmFwcCwgcGx1Z2luKVxuICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcIkNyZWF0ZSBhIG5ldyBYb3VybmFsKysgbm90ZVwiKVxuICAgICAgICAgICAgICAgIC5vcGVuKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZpbGVFeHBsb3Jlckljb25zTmF2Lmluc2VydEFmdGVyKGNyZWF0ZVhvcHBCdXR0b24uYnV0dG9uRWwsIGZpbGVFeHBsb3Jlckljb25zTmF2LmNoaWxkcmVuWzFdKTtcbiAgICAgICAgfVxuICAgIH0pXG59IiwgImltcG9ydCBYb3BwUGx1Z2luIGZyb20gXCJtYWluXCI7XG5pbXBvcnQgeyBmaW5kQ29ycmVzcG9uZGluZ1hvcHBUb1BkZiwgb3BlblhvdXJuYWxwcEZpbGUgfSBmcm9tIFwiLi94b3BwQWN0aW9uc1wiO1xuaW1wb3J0IHsgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE9wZW5JblhvdXJuYWxwcChwbHVnaW46IFhvcHBQbHVnaW4pIHtcbiAgICBsZXQgZmlsZUV4cGxvcmVycyA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcImZpbGUtZXhwbG9yZXJcIik7XG5cbiAgICBmaWxlRXhwbG9yZXJzLmZvckVhY2goZmlsZUV4cGxvcmVyID0+IHtcbiAgICAgICAgbGV0IGFsbEZpbGVzID0gKGZpbGVFeHBsb3Jlci52aWV3IGFzIGFueSk/LmZpbGVJdGVtcztcblxuICAgICAgICBjb25zdCBmaWxlczpBcnJheTxBcnJheTxIVE1MRWxlbWVudHxURmlsZT4+ID0gW107XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGFsbEZpbGVzKS5mb3JFYWNoKChbZmlsZVBhdGgsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpbGVQYXRoLmVuZHNXaXRoKFwiLnBkZlwiKSkge1xuICAgICAgICAgICAgICAgIGxldCB4b3BwRmlsZSA9IGZpbmRDb3JyZXNwb25kaW5nWG9wcFRvUGRmKGZpbGVQYXRoIGFzIHN0cmluZywgcGx1Z2luKVxuICAgICAgICAgICAgICAgIGlmICh4b3BwRmlsZSkgZmlsZXMucHVzaChbKHZhbHVlIGFzIGFueSkudGFnRWwgYXMgSFRNTEVsZW1lbnQsIHhvcHBGaWxlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpbGVzLmZvckVhY2goKFtkaXYsIGZpbGVdOiBbSFRNTEVsZW1lbnQsIFRGaWxlXSkgPT4ge1xuICAgICAgICAgICAgICAgIGRpdi5pbm5lclRleHQgPSBcIlgrK1wiO1xuICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwiY2xpY2thYmxlLXRhZ1wiKTtcbiAgICAgICAgICAgICAgICBkaXYub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlblhvdXJuYWxwcEZpbGUoZmlsZSwgcGx1Z2luKTtcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICB9KVxufSIsICJpbXBvcnQgWG9wcFBsdWdpbiBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHsgYWRkWG91cm5hbHBwT3B0aW9uc1RvRmlsZU1lbnUgfSBmcm9tIFwiLi9maWxlTWVudVwiO1xuaW1wb3J0IHsgTWVudSwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGFkZE9wZW5JblhvdXJuYWxwcFRvUGRmVG9vbGJhciB9IGZyb20gXCIuL3BkZlRvb2xiYXJcIjtcbmltcG9ydCB7IGFkZENyZWF0ZVhvdXJuYWxwcE5hdkljb24gfSBmcm9tIFwiLi9maWxlRXhwbG9yZXJOYXZcIjtcbmltcG9ydCB7IGFkZE9wZW5JblhvdXJuYWxwcCB9IGZyb20gXCIuL2ZpbGVFeHBsb3JlckZpbGVcIjtcbmltcG9ydCB7IGV4cG9ydFhvcHBUb1BERiB9IGZyb20gXCIuL3hvcHAycGRmXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cExpc3RlbmVycyhwbHVnaW46IFhvcHBQbHVnaW4pIHtcbiAgICBpbml0aWFsTG9hZChwbHVnaW4pO1xuXG4gICAgLy8gb24gc3RhcnR1cFxuICAgIHBsdWdpbi5yZWdpc3RlckV2ZW50KHBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFwibGF5b3V0LWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGFkZENyZWF0ZVhvdXJuYWxwcE5hdkljb24ocGx1Z2luKTtcbiAgICAgICAgYWRkT3BlbkluWG91cm5hbHBwKHBsdWdpbik7XG4gICAgfSkpO1xuICAgIFxuICAgIHBsdWdpbi5yZWdpc3RlckV2ZW50KHBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1vcGVuXCIsIChmaWxlOiBURmlsZSkgPT4ge1xuICAgICAgICBhZGRPcGVuSW5Yb3VybmFscHBUb1BkZlRvb2xiYXIoZmlsZSwgcGx1Z2luKTtcbiAgICB9KSk7XG4gICAgcGx1Z2luLnJlZ2lzdGVyRXZlbnQocGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW1lbnVcIiwgKG1lbnU6IE1lbnUsIGZpbGU6IFRGaWxlfFRGb2xkZXIpID0+IHtcbiAgICAgICAgYWRkWG91cm5hbHBwT3B0aW9uc1RvRmlsZU1lbnUobWVudSwgZmlsZSwgcGx1Z2luKTtcbiAgICB9KSk7XG4gICAgcGx1Z2luLnJlZ2lzdGVyRXZlbnQocGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXCJhY3RpdmUtbGVhZi1jaGFuZ2VcIiwgKGxlYWYpID0+IHtcbiAgICAgICAgaWYgKGxlYWY/LmdldERpc3BsYXlUZXh0KCkgPT09IFwiRmlsZXNcIikge1xuICAgICAgICAgICAgYWRkQ3JlYXRlWG91cm5hbHBwTmF2SWNvbihwbHVnaW4pO1xuICAgICAgICAgICAgYWRkT3BlbkluWG91cm5hbHBwKHBsdWdpbik7XG4gICAgICAgIH1cbiAgICB9KSk7XG5cbiAgICBwbHVnaW4ucmVnaXN0ZXJFdmVudChwbHVnaW4uYXBwLnZhdWx0Lm9uKFwibW9kaWZ5XCIsIChmaWxlOiBURmlsZSkgPT4ge1xuICAgICAgICBpZiAoZmlsZS5leHRlbnNpb24gPT09IFwieG9wcFwiICYmIHBsdWdpbi5zZXR0aW5ncy5hdXRvRXhwb3J0KSBleHBvcnRYb3BwVG9QREYocGx1Z2luLCBbZmlsZS5wYXRoXSwgZmFsc2UpXG4gICAgfSkpXG4gICAgcGx1Z2luLnJlZ2lzdGVyRXZlbnQocGx1Z2luLmFwcC52YXVsdC5vbihcImNyZWF0ZVwiLCAoZmlsZTogVEZpbGUpID0+IHtcbiAgICAgICAgaWYgKGZpbGUuZXh0ZW5zaW9uID09PSBcInhvcHBcIiAmJiBwbHVnaW4uc2V0dGluZ3MuYXV0b0V4cG9ydCkgZXhwb3J0WG9wcFRvUERGKHBsdWdpbiwgW2ZpbGUucGF0aF0sIGZhbHNlKVxuICAgIH0pKVxufVxuXG5mdW5jdGlvbiBpbml0aWFsTG9hZChwbHVnaW46IFhvcHBQbHVnaW4pIHtcbiAgICBpZiAocGx1Z2luLnNldHRpbmdzLmF1dG9FeHBvcnQpIHtcbiAgICAgICAgbGV0IGZpbGVzID0gcGx1Z2luLmFwcC52YXVsdC5nZXRGaWxlcygpO1xuICAgICAgICBmaWxlcyA9IGZpbGVzLmZpbHRlcihmaWxlID0+IGZpbGUuZXh0ZW5zaW9uID09PSBcInhvcHBcIik7XG4gICAgICAgIGxldCBmaWxlUGF0aHMgPSBmaWxlcy5tYXAoZmlsZSA9PiBmaWxlLnBhdGgpXG4gICAgICAgIGV4cG9ydFhvcHBUb1BERihwbHVnaW4sIGZpbGVQYXRocywgZmFsc2UpXG4gICAgfVxuICAgIFxuICAgIGFkZENyZWF0ZVhvdXJuYWxwcE5hdkljb24ocGx1Z2luKTtcbiAgICBhZGRPcGVuSW5Yb3VybmFscHAocGx1Z2luKTtcbn0iLCAiaW1wb3J0IFhvcHBQbHVnaW4gZnJvbSBcIm1haW5cIjtcbmltcG9ydCB7IGNyZWF0ZVhvcHBGaWxlTW9kYWwgfSBmcm9tIFwiLi9tb2RhbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmliYm9uSWNvbnMocGx1Z2luOiBYb3BwUGx1Z2luKSB7XG4gICAgcGx1Z2luLmFkZFJpYmJvbkljb24oJ3Blbi10b29sJywgJ0NyZWF0ZSBuZXcgWG91cm5hbCsrIG5vdGUnLCAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgIG5ldyBjcmVhdGVYb3BwRmlsZU1vZGFsKHBsdWdpbi5hcHAsIHBsdWdpbilcbiAgICAgICAgICAgIC5zZXRUaXRsZShcIkNyZWF0ZSBhIG5ldyBYb3VybmFsKysgbm90ZVwiKVxuICAgICAgICAgICAgLm9wZW4oKTtcbiAgICB9KTtcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQXVCOzs7QUNDdkIsc0JBQStDO0FBRXhDLElBQU0sa0JBQU4sY0FBOEIsaUNBQWlCO0FBQUEsRUFHbEQsWUFBWSxLQUFVLFFBQW9CO0FBQ3RDLFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2xCO0FBQUEsRUFFQSxVQUFnQjtBQUNaLFFBQUksRUFBRSxZQUFZLElBQUk7QUFFdEIsZ0JBQVksTUFBTTtBQUVsQixRQUFJLHdCQUFRLFdBQVcsRUFDbEIsUUFBUSw2QkFBNkIsRUFDckMsUUFBUSxnRUFBZ0UsRUFDeEUsVUFBVSxDQUFDLFdBQVc7QUFDbkIsYUFDSyxTQUFTLEtBQUssT0FBTyxTQUFTLFVBQVUsRUFDeEMsU0FBUyxPQUFPLFVBQVU7QUFDdkIsYUFBSyxPQUFPLFNBQVMsYUFBYTtBQUNsQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDbkMsQ0FBQztBQUFBLElBQ1QsQ0FBQztBQUVMLFFBQUksd0JBQVEsV0FBVyxFQUNsQixRQUFRLDZCQUE2QixFQUNyQyxRQUFRLHlFQUF5RSxFQUNqRixRQUFRLENBQUMsV0FBVztBQUNqQixhQUNLLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxFQUMzQyxTQUFTLE9BQU8sVUFBVTtBQUN2QixhQUFLLE9BQU8sU0FBUyxnQkFBZ0I7QUFDckMsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ25DLENBQUM7QUFBQSxJQUNULENBQUM7QUFFTCxRQUFJLHdCQUFRLFdBQVcsRUFDbEIsUUFBUSx5QkFBeUIsRUFDakM7QUFBQSxNQUNHO0FBQUEs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SUFBTSxtQkFBZ0Q7QUFBQSxFQUNsRCxZQUFZO0FBQUEsRUFDWixlQUFlO0FBQUEsRUFDZixjQUFjO0FBQ2xCO0FBRUEsSUFBcUIsYUFBckIsY0FBd0Msd0JBQU87QUFBQSxFQUczQyxNQUFNLFNBQVM7QUFDWCxVQUFNLEtBQUssYUFBYTtBQUN4QixTQUFLLGNBQWMsSUFBSSxnQkFBZ0IsS0FBSyxLQUFLLElBQUksQ0FBQztBQUN0RCxtQkFBZSxJQUFJO0FBQ25CLG1CQUFlLElBQUk7QUFDbkIsc0JBQWtCLElBQUk7QUFDdEIsbUJBQWUsSUFBSTtBQUFBLEVBQ3ZCO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDakIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUM3RTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ2pCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ3JDO0FBQUEsRUFFQSxXQUFXO0FBQUEsRUFBQztBQUNoQjsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X2NoaWxkX3Byb2Nlc3MiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfY2hpbGRfcHJvY2VzcyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
